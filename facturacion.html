<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facturación</title>
    <link href="css/global/facturacion.css" rel="stylesheet">
</head>
<body>
    <div class="logo-container">
        <img src="images/logo_esenex.png" alt="Esenex Hosting Logo" class="logo">
    </div>

    <div class="form-container">
        <h1>Contratar servicio Web Hosting</h1>
        <p>Plan seleccionado: <strong id="selected-plan"></strong></p>
        <p>Precio del plan: <strong id="selected-precio"></strong></p>
        <p>RUT: <strong id="selected-rut"></strong></p>

        <form action="send_client.php" method="POST">
            <label for="name">Nombre completo:</label>
            <input type="text" name="name" required>

            <label for="email">Correo electrónico:</label>
            <input type="email" name="email" required>

            <label for="message">Mensaje:</label>
            <textarea name="message" required></textarea>

            <label for="razon-social">Razón social:</label>
            <input type="text" id="razon-social" name="razon-social" required>

            <label for="giro">Giro:</label>
            <input type="text" id="giro" name="giro" required>

            <label for="direccion">Dirección:</label>
            <input type="text" id="direccion" name="direccion" required>

            <label for="comuna">Comuna:</label>
            <input type="text" id="comuna" name="comuna" required>

            <label for="ciudad">Ciudad:</label>
            <input type="text" id="ciudad" name="ciudad" required>

            <label for="telefono">Teléfono:</label>
            <input type="tel" id="telefono" name="telefono" placeholder="Ej: +56912345678" required pattern="^\+?\d{9,15}$">

            <!-- Nuevo campo Email -->
            <label for="email">Correo Electrónico:</label>
            <input type="email" id="email" name="email" placeholder="Ej: ejemplo@correo.com" required>

            <!-- Campos ocultos -->
            <input type="hidden" name="plan" id="hidden-plan">
            <input type="hidden" name="precio" id="hidden-precio">
            <input type="hidden" name="rut" id="hidden-rut">

            <button type="submit">Siguiente</button>
        </form>
    </div>

    <script>
        // Obtener los valores almacenados en sessionStorage
        const plan = sessionStorage.getItem("plan");
        const precio = sessionStorage.getItem("precio");
        const rut = sessionStorage.getItem("rut");

        // Formatear el precio con separadores de miles
        const precioFormateado = precio ? new Intl.NumberFormat('es-CL', { 
            style: 'currency', 
            currency: 'CLP', 
            minimumFractionDigits: 0 
        }).format(precio) : 'N/A';

        // Mostrar los valores en la página
        document.getElementById('selected-plan').textContent = plan || 'N/A';
        document.getElementById('selected-precio').textContent = precio ? `${precioFormateado} + IVA` : 'N/A';
        document.getElementById('selected-rut').textContent = rut || 'N/A';

        // Pasar los datos como campos ocultos al formulario
        document.getElementById('hidden-plan').value = plan;
        document.getElementById('hidden-precio').value = precio;
        document.getElementById('hidden-rut').value = rut;
    </script>
</body>
</html>



